# Enterprise Manager REST API

referensi: https://help.qlik.com/en-US/enterprise-manager/May2025/Content/EnterpriseManager/EnterpriseManager_APIGuide/CurlAPI/aem_rest_api_intro.htm

## Pre-req

Sebelum menjalankan Enterprise Manager REST API, Pastikan bahwa Qlik Enterprise Manager sudah terinstall dan aktif serta memiliki permission yang relevant

## Authentikasi dan authorisasi

Penggunaan REST API di QEM membutuhkan otentikasi berupa `Basic` yang membutuhkan username dan password dari user yang telah diberi izin, pengguna perlu login terlebih dahulu untuk kemudian mendapatkan `EnterpriseManager.APISessionID` yang bisa digunakan untuk hit ke REST API yang ada sebelum kemudian expired 5 menit jika tidak digunakan dalam jangka waktu itu.

## Login

Adapun cara untuk login yakni melakukan hit GET ke REST API `https://{{HOST}}/attunityenterprisemanager/api/v1/login` dengan menggunakan header `Authorization` yang berisi `Basic` dan diikuti dengan encode dari format penulisan `domain\user:password`. Pastikan user memiliki credential yang benar dan akses yang sesuai.

Berikut adalah contoh jika hit API login QEM di postman

<img width="1386" height="747" alt="image" src="https://github.com/user-attachments/assets/d90e970f-f322-4aaa-b78a-d19aca12041a" />

Simpan value respose header `EnterpriseManager.APISessionID` untuk digunakan dalam melakukan hit ke REST API yang tersedia di QEM seperti antara lain:

### Login Logout

- Login → autentikasi user untuk mulai sesi.

- Logout → mengakhiri sesi user.

### Server Management

- PutServerLicense → upload/atur lisensi server.

- GetServerDetails → ambil detail spesifik server.

- PutServer → tambah atau update konfigurasi server.

- PutServerAcl → set akses kontrol (ACL) server.

- GetServer → ambil info satu server.

- GetServerAcl → ambil aturan akses server.

- GetServerList → ambil daftar semua server terdaftar.

- DeleteServer → hapus server.

- DeleteServerAcl → hapus ACL server.

### Task Management

- GetTaskList → ambil daftar task yang ada.

- GetTaskDetails → detail satu task tertentu.

- GetTableList → daftar tabel yang terkait dengan task.

- GetTaskTableSelection → tabel mana saja yang dipilih untuk task.

- PutTaskTableSelection → ubah/atur tabel yang dipilih untuk task.

- GetTableStatuses → status tabel dalam sebuah task.

- DeleteTask → hapus task.

- ExportTask → ekspor definisi task.

- ImportTask → impor definisi task.

- ExportAuditTrail → ekspor jejak audit aktivitas.

- RunTask → jalankan task.

- StopTask → hentikan task.

### Endpoint Management

- GetEndpointList → ambil daftar endpoint.

- PatchEndpoint → update sebagian konfigurasi endpoint.

- DeleteEndpoint → hapus endpoint.

- ReconfigureEndpointNoWait → re-configure endpoint tanpa blocking.

- TestEndpoint → uji konektivitas endpoint.

### Data & System Management

- ExportAll → ekspor semua konfigurasi/objek.

- ImportAll → impor semua konfigurasi/objek.

- ReloadTable → muat ulang data tabel.

- ResumeTable → lanjutkan proses pada tabel.

- DeleteOldChangeData → hapus data perubahan lama.

- SetChangeDataRetentionBarrier → set batas retensi change data.

- GetChangeDataRetentionBarrier → ambil info batas retensi change data.

## Contoh Running REST API

Disini diberi satu contoh running API `getTaskDetails` yang menampilkan detail dari task pada server tertentu yang terkoneksi ke QEM dengan contoh URL berikut:

`https://localhost/attunityenterprisemanager/api/v1/servers/localhost/tasks/bidi1`

API ini akan menampikan detail task `bidi1` dari server replicate bernama `localhost`

<img width="1392" height="911" alt="image" src="https://github.com/user-attachments/assets/3f3f3b92-27e1-433d-8c87-d96e964809d6" />

